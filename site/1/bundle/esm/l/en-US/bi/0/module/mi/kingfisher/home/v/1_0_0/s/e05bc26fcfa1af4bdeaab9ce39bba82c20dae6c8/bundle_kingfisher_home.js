import{load as _e}from"/1/bundle/esm/l/en-US/bi/0/module/mi/lwr%2FesmLoader%2Fv%2F0_14_3/s/a2bab4dbba57599e311b52867d21c3a95eee305c/bundle_lwr_esmLoader.js";import{registerTemplate as j,freezeTemplate as L,registerDecorators as k,registerComponent as H,LightningElement as G,parseFragment as Ne,createContextProvider as B}from"/1/bundle/esm/l/en-US/bi/0/module/mi/lwc%2Fv%2F8_1_2/s/ddb109defb4d29b7d6dff6970924e804ca29c815/bundle_lwc.js";import{CurrentView as V,CurrentPageReference as Q,NavigationContext as ne,registerNavigationHelm as Oe}from"/1/bundle/esm/l/en-US/bi/0/module/mi/lwr%2Fnavigation%2Fv%2F0_14_3/s/f1b0345ade3cecde546740335c5d5be057ada0c2/bundle_lwr_navigation.js";import{logOperationEnd as ie,logOperationStart as W}from"/1/bundle/esm/l/en-US/bi/0/module/mi/lwr%2Fprofiler%2Fv%2F0_14_3/s/cde981789965e6c2500068145ce4d0a9104ae71c/bundle_lwr_profiler.js";function Ie(r,e,t){var n=r?"["+r+"]":"";return"div[role='region'].outlet"+n+" {outline: none;}"}var oe=[Ie];const Pe={attrs:{role:"alert"},key:0},xe={attrs:{name:"error"},key:1},$e=[],Ce={classMap:{outlet:!0},attrs:{role:"region",tabindex:"-1"},key:2},Te={classMap:{"lwr-dynamic":!0},key:3};function w(r,e,t,n){const{s:o,h:i,ddc:s}=r;return[i("div",Pe,[e.hasError?o("error",xe,$e,t):null]),i("div",Ce,[s("lwr-dynamic",e.viewCtor,Te)])]}var Ae=j(w);w.slots=["error"],w.renderMode="light",w.stylesheets=[],w.stylesheetToken="lwc-kinpg4fodb",w.legacyStylesheetToken="lwr-outlet_outlet",oe&&w.stylesheets.push.apply(w.stylesheets,oe),L(w);class q extends G{constructor(...e){super(...e);this.refocusOff=!1,this.outletErrorCallback=void 0,this.viewName="default",this.viewCtor=void 0,this.previousViewCtor=void 0,this.hasError=!1}setView(e){this.hasError=!1,this.viewCtor=e,this.refocus()}renderedCallback(){if(this.viewCtor!==this.previousViewCtor){this.previousViewCtor=this.viewCtor;const e=new CustomEvent("viewchange",{detail:this.viewCtor});this.dispatchEvent(e)}}errorCallback(e,t){this.hasError=!0;const n=new CustomEvent("viewerror",{detail:{error:e,stack:t}});this.dispatchEvent(n),this.outletErrorCallback?this.outletErrorCallback(e,t):console.error(e)}refocus(){if(!this.refocusOff){const e=this.querySelector("div[role='region'].outlet");e&&e.focus()}}}q.renderMode="light",k(q,{publicProps:{refocusOff:{config:0},outletErrorCallback:{config:0},viewName:{config:0}},wire:{setView:{adapter:V,dynamic:["viewName"],method:1,config:function(r){return{viewName:r.viewName}}}},fields:["viewCtor","previousViewCtor","hasError"]});const Ue=H(q,{tmpl:Ae,sel:"lwr-outlet",apiVersion:63});function Se(r,e,t){var n=r?"["+r+"]":"";return"span.router-title"+n+" {position: absolute;margin: -1px;border: 0;padding: 0;width: 1px;height: 1px;overflow: hidden;clip: rect(0 0 0 0);text-transform: none;white-space: nowrap;}"}var se=[Se];const De=Ne`<span class="router-title${0}" aria-live="polite" aria-atomic="true"${2}></span>`,Me={key:0},ke=[];function _(r,e,t,n){const{s:o,st:i}=r;return[o("",Me,ke,t),i(De,2)]}var Ve=j(_);_.slots=[""],_.renderMode="light",_.stylesheets=[],_.stylesheetToken="lwc-7bis3qj4jjc",_.legacyStylesheetToken="lwr-routerContainer_routerContainer",se&&_.stylesheets.push.apply(_.stylesheets,se),L(_);function ae(){const r=[],e=()=>r.length===0,t=i=>{typeof i=="function"&&r.push(i)};return{add:(i=[])=>{Array.isArray(i)?i.forEach(s=>t(s)):t(i)},compile:i=>r.length===0?Promise.resolve(!0):r.reduce((s,l)=>s.then(u=>u===!1?Promise.reject():Promise.resolve(l(i))),Promise.resolve(!0)).then(s=>s!==!1).catch(s=>{if(s instanceof Error)throw s;return!1}),empty:e}}function Fe(r=""){return r=r||"",encodeURIComponent(r)}function O(r=""){return r=r||"",decodeURIComponent(r)}function X(r){r=r||"/",r.charAt(0)!=="/"&&(r="/"+r);const e=r.match(/^[^#?]+/);if(e!==null){const t=e[0];return t==="/"?"/":t.replace(/\/$/,"")}return"/"}function z(r){r=r||"";const e=r.indexOf("#");e>=0&&(r=r.substring(0,e));const t=r.indexOf("?"),n=t>=0?r.substr(t+1):null,o={};return n&&n.split("&").forEach(i=>{if(i.indexOf("=")>=0){const[s,l=""]=i.split("=");o[O(s)]=O(l)}else o[O(i)]=null}),o}function je(r={}){const e=Object.keys(r);return e.length?`?${e.map(t=>{const n=r[t];return n===null?t:`${t}=${Fe(n)}`}).join("&")}`:""}function R(r){return r&&r.length>1?r.startsWith(":"):!1}function P(r){return r&&R(r)?r.substr(1):!1}function ce(r){return Object.values(r).reduce((e,{routeParamName:t})=>{const n=P(t);return n&&e.push(n),e},[])}function Le(r,e){if(!r)return null;const{type:t,attributes:n={},state:o={}}=r;if(t){const[i]=e.filter(s=>{const{original:{page:{type:l=null,attributes:u={},state:a={}}={}}}=s,c=l===t,d=Object.keys(u).every(E=>Object.keys(n).indexOf(E)>=0),h=Object.keys(u).length===Object.keys(n).length,p=Object.keys(a).every(E=>Object.keys(o).indexOf(E)>=0),f=Object.keys(u).filter(E=>{const b=u[E];return!b||!R(b)}).every(E=>u[E]===n[E]),v=Object.keys(a).filter(E=>{const b=a[E];return b===null||!R(b)}).every(E=>a[E]===o[E]);return c&&d&&h&&f&&p&&v});return i||null}return null}function le(r,e){const{regex:t,params:n}=e,o=t.exec(r);if(o){const[,...i]=o,s={};return n.forEach((l,u)=>{const{name:a}=l,c=i[u];s[a]=c&&O(c)}),s}return null}function ue(r,e){if(r&&e){const{queryMatcher:t}=e,n=t(r);if(n){const o={};return Object.keys(n).forEach(i=>{const s=n[i],{value:l,routeParamName:u}=s,a=u?u.substr(1):i;o[a]=l&&O(l)}),o}}return null}function He(r,e){const{compiledQuery:t}=e,n=Object.keys(t).filter(i=>{const{literalValue:s}=t[i];return!s}),o={};return Object.keys(r).forEach(i=>{const s=r[i];n.indexOf(i)<0&&(o[i]=s)}),o}function Ge(r,e){if(e){const{original:{page:{type:t="",attributes:n={},state:o={}}={}}={}}=e,i=X(r),s=z(r),l=le(i,e),u=ue(s,e);if(l&&u){const a={...l,...u},c={};Object.keys(n).forEach(p=>{const f=n[p];let v;if(f&&R(f)){const E=f.substr(1);v=a[E]}else v=f;c[p]=v});const d={};Object.keys(o).forEach(p=>{const f=o[p];let v;if(f&&R(f)){const E=f.substr(1);v=a[E]}else v=f;d[p]=v});const h=He(s,e);return{type:t,attributes:{...c},state:{...h,...d}}}}return null}const A={locale:"en-US",defaultLocale:"en-US"};function Be(r,e,t){const{original:{patterns:n=null}={}}=t||{};if(n){const o=le(r,t),i=ue(e,t),s={...o,...i};return Object.keys(n).every(l=>{const u=n[l],a=new RegExp(u),c=s[l]||"";return a.test(c)})}return!0}function Qe(r,e){const t=X(r),n=z(r),o=e?e.filter(s=>s.regex.test(t)):[],[i]=o.filter(s=>{const{queryMatcher:l}=s;return l(n)&&Be(t,n,s)});return i||null}function de(r,e,t="",n=A,o){if(t&&r?.indexOf(t)===0&&(r=r.replace(t,"")),o?.locale||n?.locale){const l=`/${o?.locale||n.locale}`;r?.indexOf(l)===0&&(r=r.replace(l,""))}const i=Qe(r,e);let s;if(i){const l=Ge(r,i);if(l)return s={route:{id:i.original.id,attributes:{...l.attributes},state:{...l.state},pageReference:{type:l.type,attributes:{...l.attributes},state:{...l.state}}},routeDefinition:i},s}else return null;return null}function We(r,e,t="",n=A,o){const i=Le(r,e);return i?fe(r,i,t,n,o):null}function he(r,e,t){const{attributeBindings:n,stateBindings:o}=t,{attributes:i,state:s}=e,l={};return r.forEach(u=>{const[a]=Object.keys(n).filter(c=>P(n[c])===u);if(a)l[u]=i[a];else{const[c]=Object.keys(o).filter(d=>P(o[d])===u);c&&(l[u]=s[c])}}),l}function fe(r,e,t="",n=A,o){const{params:i,original:{page:s={}}={},toPath:l,compiledQuery:u}=e,{attributes:a={},state:c={}}=s,d=i.filter(({name:T})=>typeof T=="string").map(({name:T})=>T),h=he(d,r,{attributeBindings:a,stateBindings:c}),p=l(h),f=ce(u),v=he(f,r,{attributeBindings:a,stateBindings:c}),E=qe(r,v,e),b=je(E),$=o?.locale||n&&n.locale,C=$!==n.defaultLocale?`/${$}`:"";return`${t}${C}${p}${b}`}function qe(r,e,t){const{compiledQuery:n,original:{page:{state:o={}}}}=t,{state:i={}}=r||{},s={};Object.keys(i).filter(u=>{const a=o[u];return!R(a)}).forEach(u=>s[u]=i[u]);const l={};return Object.keys(e).forEach(u=>{const a=e[u],[c]=Object.keys(n).filter(d=>{const h=n[d],{routeParamName:p}=h;return P(p)===u});if(c){const d=c;l[d]=a}}),{...s,...l}}function Xe(r,e,t="",n=A){const o=de(r,e,t,n);return o&&o.route&&o.route.pageReference?o.route.pageReference:null}function ze(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function Ye(r,e){return e in r}function pe(r,e=2){if(ze(r))try{Object.freeze(r),e>0&&Object.keys(r).forEach(t=>{if(Ye(r,t)){const n=r[t];n&&typeof n=="object"&&pe(n,e-1)}})}catch(t){}return r}function Y(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}const g="LWR",m={Fatal:0,Error:1,Warning:2,Log:3};function F(r,e){return Array.isArray(e)?r.replace(/\{([0-9]+)\}/g,(t,n)=>e[n]):r}function U(r,e){return`${r.code}: ${F(r.message,e)}`}function S(r,e){const t={...r,message:F(r.message,e)};return r.address&&(t.address=F(r.address,e)),r.stack&&(t.stack=F(r.stack,e)),t}function I(r,e,t){if(!r)throw new Error(U(e,t))}const y={INVALID_MIXIN_CMP:{code:`${g}4001`,message:"{0} must be an Element type",level:m.Error},MISSING_CONTEXT:{code:`${g}4002`,message:"Could not find context to perform navigation action.",level:m.Error},INVALID_CONTEXT:{code:`${g}4003`,message:"Cannot register navigation context; it must have this shape: { navigate, generateUrl, subscribe }",level:m.Error},MULTIPLE_ROOTS:{code:`${g}4004`,message:"Router connection failed. There can only be one root router.",level:m.Error},MULTIPLE_CHILDREN:{code:`${g}4005`,message:"Could not add to the navigation hierarchy. There can only be one child per navigation node.",level:m.Error},MISSING_ROUTE:{code:`${g}4006`,message:'A route cannot be created to navigate to URL "{0}"',level:m.Error,address:"{0}"},MISSING_URL:{code:`${g}4007`,message:'A URL cannot be created to navigate to route "{0}"',level:m.Error,address:"{0}"},PRENAV_FAILED:{code:`${g}4008`,message:'A preNavigate hook listener blocked routing to "{0}"',level:m.Warning,address:"{0}"},MISSING_ROUTE_TEMPLATE:{code:`${g}4009`,message:'A route definition must contain a "uri" property.',level:m.Error},MISSING_ROUTE_CMP:{code:`${g}4016`,message:"Expected a route view component with a default export.",level:m.Error},MISSING_DATA_CONTEXT:{code:`${g}4018`,message:"Could not find context to retrieve navigation data.",level:m.Error},INVALID_ROUTE_QUERY:{code:`${g}4019`,message:"Invalid query param in route definition.",level:m.Error},MISSING_PAGE_BINDING:{code:`${g}4020`,message:"Route definition must provide page binding",level:m.Error},INVALID_PAGE_BINDING:{code:`${g}4021`,message:"Invalid page binding in route definition",level:m.Error},INVALID_URI_SYNTAX:{code:`${g}4022`,message:"Invalid uri syntax. URI cannot contain *, +, (, ), ",level:m.Error},VIEW_IMPORT_FAILED:{code:`${g}4023`,message:'Error importing view with name "{0}", failure was: {1}',level:m.Error,stack:"{2}"},VIEW_MISSING:{code:`${g}4024`,message:'Expected a view with name "{0}" in the viewset',level:m.Error},VIEW_IMPORT_FAILED_WITH_SPECIFIER:{code:`${g}4025`,message:'Error importing module "{0}" from view with name "{1}", failure was: {2}',level:m.Error,stack:"{3}"},NO_ROUTE_MATCH:{code:`${g}4026`,message:"A routing match cannot be found for: {0}",level:m.Error},INVALID_ROUTE_HANDLER:{code:`${g}4027`,message:'Route definition "{0}" does not have a valid route handler module',level:m.Error},DESTINATION_NOT_FOUND:{code:`${g}4028`,message:"Route handler returned 404: Not Found",level:m.Error},DESTINATION_ERROR:{code:`${g}4029`,message:"Route handler returned error status {0}: {1}",level:m.Error,stack:"{2}"},NO_INIT_URL:{code:`${g}4030`,message:'Cannot initialize a server router without a "url"',level:m.Error}};function Je(r){const e=[];let t=0;for(;t<r.length;){const n=r[t];if(n==="*"||n==="+"||n==="?"){e.push({type:"MODIFIER",index:t,value:r[t++]});continue}if(n==="\\"){e.push({type:"ESCAPED_CHAR",index:t++,value:r[t++]});continue}if(n==="{"){e.push({type:"OPEN",index:t,value:r[t++]});continue}if(n==="}"){e.push({type:"CLOSE",index:t,value:r[t++]});continue}if(n===":"){let o="",i=t+1;for(;i<r.length;){const s=r.charCodeAt(i);if(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||s===95){o+=r[i++];continue}break}if(!o)throw new TypeError(`Missing parameter name at ${t}`);e.push({type:"NAME",index:t,value:o}),t=i;continue}if(n==="("){let o=1,i="",s=t+1;if(r[s]==="?")throw new TypeError(`Pattern cannot start with "?" at ${s}`);for(;s<r.length;){if(r[s]==="\\"){i+=r[s++]+r[s++];continue}if(r[s]===")"){if(o--,o===0){s++;break}}else if(r[s]==="("&&(o++,r[s+1]!=="?"))throw new TypeError(`Capturing groups are not allowed at ${s}`);i+=r[s++]}if(o)throw new TypeError(`Unbalanced pattern at ${t}`);if(!i)throw new TypeError(`Missing pattern at ${t}`);e.push({type:"PATTERN",index:t,value:i}),t=s;continue}e.push({type:"CHAR",index:t,value:r[t++]})}return e.push({type:"END",index:t,value:""}),e}function x(r){return r.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function J(r){return r&&r.sensitive?"":"i"}function ge(r,e={}){const t=Je(r),{prefixes:n="./"}=e,o=`[^${x(e.delimiter||"/#?")}]+?`,i=[];let s=0,l=0,u="";const a=h=>{if(l<t.length&&t[l].type===h)return t[l++].value},c=h=>{const p=a(h);if(p!==void 0)return p;const{type:f,index:v}=t[l];throw new TypeError(`Unexpected ${f} at ${v}, expected ${h}`)},d=()=>{let h="",p;for(;p=a("CHAR")||a("ESCAPED_CHAR");)h+=p;return h};for(;l<t.length;){const h=a("CHAR"),p=a("NAME"),f=a("PATTERN");if(p||f){let b=h||"";n.indexOf(b)===-1&&(u+=b,b=""),u&&(i.push(u),u=""),i.push({name:p||s++,prefix:b,suffix:"",pattern:f||o,modifier:a("MODIFIER")||""});continue}const v=h||a("ESCAPED_CHAR");if(v){u+=v;continue}if(u&&(i.push(u),u=""),a("OPEN")){const b=d(),$=a("NAME")||"",C=a("PATTERN")||"",T=d();c("CLOSE"),i.push({name:$||(C?s++:""),pattern:$&&!C?o:C,prefix:b,suffix:T,modifier:a("MODIFIER")||""});continue}c("END")}return i}function Ke(r,e={}){const t=J(e),{encode:n=s=>s,validate:o=!0}=e,i=r.map(s=>{if(typeof s=="object")return new RegExp(`^(?:${s.pattern})$`,t)});return s=>{let l="";for(let u=0;u<r.length;u++){const a=r[u];if(typeof a=="string"){l+=a;continue}const c=s?s[a.name]:void 0,d=a.modifier==="?"||a.modifier==="*",h=a.modifier==="*"||a.modifier==="+";if(Array.isArray(c)){if(!h)throw new TypeError(`Expected "${a.name}" to not repeat, but got an array`);if(c.length===0){if(d)continue;throw new TypeError(`Expected "${a.name}" to not be empty`)}for(let f=0;f<c.length;f++){const v=n(c[f],a);if(o&&!i[u].test(v))throw new TypeError(`Expected all "${a.name}" to match "${a.pattern}", but got "${v}"`);l+=a.prefix+v+a.suffix}continue}if(typeof c=="string"||typeof c=="number"){const f=n(String(c),a);if(o&&!i[u].test(f))throw new TypeError(`Expected "${a.name}" to match "${a.pattern}", but got "${f}"`);l+=a.prefix+f+a.suffix;continue}if(d)continue;const p=h?"an array":"a string";throw new TypeError(`Expected "${a.name}" to be ${p}`)}return l}}function Ze(r,e){return Ke(ge(r,e),e)}function et(r,e){if(!e)return r;const t=r.source.match(/\((?!\?)/g);if(t)for(let n=0;n<t.length;n++)e.push({name:n,prefix:"",suffix:"",modifier:"",pattern:""});return r}function tt(r,e,t={}){const{strict:n=!1,start:o=!0,end:i=!0,encode:s=c=>c}=t,l=`[${x(t.endsWith||"")}]|$`,u=`[${x(t.delimiter||"/#?")}]`;let a=o?"^":"";for(const c of r)if(typeof c=="string")a+=x(s(c));else{const d=x(s(c.prefix)),h=x(s(c.suffix));if(c.pattern)if(e&&e.push(c),d||h)if(c.modifier==="+"||c.modifier==="*"){const p=c.modifier==="*"?"?":"";a+=`(?:${d}((?:${c.pattern})(?:${h}${d}(?:${c.pattern}))*)${h})${p}`}else a+=`(?:${d}(${c.pattern})${h})${c.modifier}`;else a+=`(${c.pattern})${c.modifier}`;else a+=`(?:${d}${h})${c.modifier}`}if(i)n||(a+=`${u}?`),a+=t.endsWith?`(?=${l})`:"$";else{const c=r[r.length-1],d=typeof c=="string"?u.indexOf(c[c.length-1])>-1:c===void 0;n||(a+=`(?:${u}(?=${l}))?`),d||(a+=`(?=${u}|${l})`)}return new RegExp(a,J(t))}function rt(r,e,t){return tt(ge(r,t),e,t)}function me(r,e,t){return r instanceof RegExp?et(r,e):Array.isArray(r)?nt(r,e,t):rt(r,e,t)}function nt(r,e,t){const n=r.map(o=>me(o,e,t).source);return new RegExp(`(?:${n.join("|")})`,J(t))}const{INVALID_ROUTE_QUERY:it,MISSING_ROUTE_TEMPLATE:ot,MISSING_PAGE_BINDING:st,INVALID_PAGE_BINDING:at,INVALID_URI_SYNTAX:ct}=y;function lt(r){const{routes:e,caseSensitive:t}=r;return e.map(n=>ut(n,t))}function ut(r,e=!1){const t=[],{uri:n,page:o}=r;I(!!n,ot),I(dt(n),ct),I(!!o,st);const i=X(n),s=z(n),l=me(i,t,{sensitive:e,end:r.exact!==!1}),u=Ze(i,{encode:encodeURIComponent}),a=ft(s),c=pt(a,e),d={original:r,regex:l,params:t,toPath:u,compiledQuery:a,queryMatcher:c};return I(ht(d),at),d}function dt(r=""){return!["*","(",")",";"].some(n=>r.indexOf(n)>=0)}function ht(r){const{original:{page:e}={},params:t,compiledQuery:n}=r,o=e&&e.type,i=e&&e.attributes||{},s=e&&e.state||{};if(typeof o!="string"||typeof i!="object"||typeof s!="object")return!1;const l=Object.values(t).map(({name:f})=>f),u=ce(n),a=[...l,...u],c=Object.values(i).filter(R).map(P),d=Object.values(s).filter(R).map(P),h=a.every(f=>typeof f!="string"?!1:c.indexOf(f)>=0||d.indexOf(f)>=0),p=a.length===c.length+d.length;return!!(e&&o&&i&&s&&h&&p)}function ft(r){const e={};return Object.keys(r).forEach(t=>{const n=r[t];I(R(t)?n===null:!0,it),R(t)?e[t.substr(1)]={routeParamName:t}:n&&R(n)?e[t]={routeParamName:n}:e[t]={literalValue:n===null?null:n}}),e}function pt(r,e=!1){return n=>{const o=Object.keys(n),i=Object.keys(r);return i.every(l=>o.indexOf(l)>=0)?i.reduce((l,u)=>{if(l===null)return null;const{literalValue:a,routeParamName:c}=r[u],d=n[u];let h=!0;return typeof a=="string"?h=e?a===d:a.toUpperCase()===(d==null?d:d.toUpperCase()):a===null&&(h=d===a),h?l={...l,[u]:{value:d,routeParamName:c}}:l=null,l},{}):null}}const N=typeof document!="undefined",gt=B(Q),mt=N?B(V):void 0,vt=B(ne);function K(r,e,t,n){t&&n&&(n.setContext(e,r),t(e,{consumerConnectedCallback:n.subscribeContext.bind(n,e),consumerDisconnectedCallback:n.unsubscribeContext.bind(n,e)}))}function ve(){let r,e,t=[];const n=a=>{t.push(a)},o=a=>{t=[...t.slice(0,a),...t.slice(a+1)]},i=a=>{t.filter(c=>c!==null).forEach(c=>c.next&&c.next(a)),r=a,e=void 0},s=a=>{t.filter(c=>c!==null).forEach(c=>c.error&&c.error(a)),r=void 0,e=a};return{next:i,error:s,complete:()=>{t.filter(a=>a!==null).forEach(a=>a.complete&&a.complete()),t=[],r=void 0,e=void 0},subscribe:(a,c=!0)=>{n(a),r&&c&&a.next(r),e&&s(e);const d=t.length-1;return{unsubscribe:()=>o(d)}}}}const Z="lwr.router.",Ee=`${Z}navigate`,be=`${Z}view`,Et=`${Z}error`,bt=`universalcontainergetnavigationcontext${Y()}`,ee=`universalcontainernavigationevent${Y()}`,te=`universalcontainerparentevent${Y()}`;class ye{constructor(e,t,n){this.pendingRoute=null,this.committedRoute=null,this.contextId=Object.freeze(()=>{}),this.connected=!1,this.preNavFilters=ae(),this.errorNavFilters=ae(),this._handleNavigationEvent=o=>{const i=o;if(i.detail&&typeof i.detail=="object"){const{url:s,replace:l,address:u}=i.detail;this.config.handleNavigation(u,l)?this.root&&!s?this.root.processError(S(y.MISSING_URL,[JSON.stringify(u)])):this.parent||this.process(s,l):i.stopPropagation()}},this._handleParentEvent=o=>{o.stopImmediatePropagation();const i=o;i&&i.detail&&typeof i.detail=="function"&&i.detail(this)},this.config={handleNavigation:e.handleNavigation||(()=>!0)},this.target=n||window,this.router=t,this.router.contextId=this.contextId,this.routeObservable=ve()}get root(){if(!this.parent)return this;let e=this.parent;for(;e;){if(!e.parent)return e;e=e.parent}throw new Error("No root router could be found")}updateWires(e,t,n){if(n)this.processError(n);else{if(this.committedRoute&&e.route===this.committedRoute.route)return;ie({id:be,specifier:this.eventId}),this.pendingRoute=this.pendingRoute||{...e,url:t},this.committedRoute={...this.pendingRoute,...e},Q.setContext(this.target,e.route.pageReference),this.routeObservable.next({...this.committedRoute,viewset:e.viewset}),ie({id:Ee,specifier:this.eventId}),this.child&&this.child.process(this._stripUrlForChild(this.committedRoute.url))}}connect(){this._sendEvent(te,t=>{this.parent=t,t.addChild(this)});const e={navigate:(t,n)=>this.navigate(t,n),generateUrl:(t,n)=>this.generateUrl(t,n),subscribe:(t,n)=>this.subscribe(t,n)};Oe(this.contextId,e),K(this.contextId,this.target,vt,ne),K(void 0,this.target,gt,Q),K(void 0,this.target,mt,V),this.router.subscribe(t=>{if(t.status===404){this.processError(S(y.DESTINATION_NOT_FOUND));return}if(t.status&&t.status>=400){const i=t.error||new Error;this.processError(S(y.DESTINATION_ERROR,[t.status.toString(),i.message,i.stack||""]));return}const n=t.route.pageReference||{},o=this.router.generateUrl(n)||"";if(W({id:be,specifier:this.eventId}),t.viewset){const i={viewset:t.viewset,onComplete:this.updateWires.bind(this,t,o)};V.setContext(this.target,i)}else t.route.pageReference&&this.updateWires(t,o)},!0),N&&(this.target.addEventListener(ee,this._handleNavigationEvent),this.target.addEventListener(te,this._handleParentEvent),this.target.addEventListener(bt,t=>{const n=t;n.detail.callback&&n.detail.callback(this.contextId)})),this.connected=!0}disconnect(){this.target.removeEventListener(ee,this._handleNavigationEvent),this.target.removeEventListener(te,this._handleParentEvent),this.parent&&(this.parent.child=void 0),this.parent=void 0,this.child&&(this.child.parent=void 0),this.child=void 0,this.connected=!1}addPreNavigate(e){this.preNavFilters.add(e)}addErrorNavigate(e){this.errorNavFilters.add(e)}async addChild(e){if(await new Promise(t=>{setTimeout(()=>{I(!this.child,y.MULTIPLE_CHILDREN),this.child=e,t()},0)}),this.child&&this.committedRoute){const t=this._stripUrlForChild(this.committedRoute.url);await this.child.preProcess(t)&&this.child.process(t)}}async process(e,t,n,o){this.eventId=new Date().getTime().toString(),W({id:Ee,specifier:this.eventId});try{this.parent||await this.preProcess(e,n)}catch(s){if(s.code)return this.processError(s),!1;throw s}const i=this.router.parseUrl(e);return i&&this.router.navigate(i,n),!0}preProcess(e,t){const n=this.router.parseUrl(e),o=n&&this.router.matchRoute(n,t);return o?(this.pendingRoute={url:e,...o},(this.preNavFilters.empty()?Promise.resolve(!0):this.preNavFilters.compile({current:this.committedRoute||void 0,next:this.pendingRoute})).then(s=>s&&this.child?this.child.preProcess(this._stripUrlForChild(e)):s).then(s=>s||Promise.reject(S(y.PRENAV_FAILED,[e])))):Promise.reject(S(y.MISSING_ROUTE,[e]))}processError(e){W({id:Et}),this.errorNavFilters.compile(e),this.child&&this.child.processError(e)}navigate(e,t,n){const o=this.filterNavigateOptions(n);let i=this.router.generateUrl(e,o);i&&(i=(this.parent&&this.parent.committedRoute&&this.parent.committedRoute.pathMatch||"").concat(i)),this._sendEvent(ee,{url:i,replace:t,address:e})}generateUrl(e,t){const n=this.filterNavigateOptions(t),o=this.router.generateUrl(e,n);return o?`${this.parent&&this.parent.committedRoute&&this.parent.committedRoute.pathMatch||""}${o}`:null}subscribe(e,t){return this.routeObservable.subscribe({next:e,error:()=>{},complete:()=>{}},Boolean(t))}_sendEvent(e,t){N&&this.target.dispatchEvent(new CustomEvent(e,{bubbles:!0,composed:!0,detail:t}))}_stripUrlForChild(e){return this.pendingRoute&&e.indexOf(this.pendingRoute.pathMatch)===0?e.replace(this.pendingRoute.pathMatch,""):e}filterNavigateOptions(e){const t=!this.parent;return{...e,locale:t?e?.locale:void 0}}}function yt(r=""){if(r=r||"",r.indexOf("://")<0){const o=window.location.port?`:${window.location.port}`:"",i=`${window.location.protocol}//${window.location.hostname}${o}`,s=r.charAt(0)==="/"?"":"/";r=i+s+r}const e={},t=document.createElement("a");t.href=r;const n=t.search.substring(1);return n&&n.split("&").forEach(o=>{const[i,s=""]=o.split("=");e[O(i)]=O(s)}),{href:t.href,origin:`${t.protocol}//${t.hostname}${t.port?`:${t.port}`:""}`,pathname:t.pathname.replace(/(\/)?/,"/"),searchParams:e}}function Rt(r){const e=yt(r),t=e.href.replace(/:\d+/,""),n=e.origin.replace(/:\d+/,"");return t.replace(n,"")}function wt(r,e){const t=e||{};window.history.pushState(t,"",r)}function _t(r,e){const t=e||{};window.history.replaceState(t,"",r)}class Re extends ye{constructor(...e){super(...e);this.historyDisabled=!1}connect(){super.connect(),this.historyDisabled||(N&&window.addEventListener("popstate",this.onpopstate.bind(this)),this.onpopstate())}onpopstate(){!this.parent&&N&&this.catchBrowserUpdate(Rt(window.location.href))}disconnect(){super.disconnect(),N&&window.removeEventListener("popstate",this.onpopstate)}async process(e,t,n,o=!0){const i=await super.process(e,t,n,o);return i&&!this.historyDisabled&&o&&this.connected&&!this.parent&&(t?_t(e):wt(e)),i}catchBrowserUpdate(e){this.process(e,!1,{},!1)}}k(Re,{fields:["historyDisabled"]});let D=!1;function Nt(r,e={},t){const n=e.historyDisabled?new ye(e,t,r):new Re(e,t,r),o={addPreNavigate:i=>(n.addPreNavigate(i),o),addPostNavigate:i=>(n.subscribe(i),o),addErrorNavigate:i=>(n.addErrorNavigate(i),o),connect:()=>{n.connect(),I(!D||!!n.parent,y.MULTIPLE_ROOTS),D=D||!n.parent,o.id=n.contextId},disconnect:()=>{D=D&&!!n.parent,n.disconnect()}};return o}class re extends G{constructor(){super();this.router=void 0,this.historyDisabled=!1,this.currentTitle=N?document.title:""}connectedCallback(){const e={historyDisabled:this.historyDisabled,handleNavigation:this.handleNavigation.bind(this)};N&&this.router&&(this.routerApi=Nt(this,e,this.router),this.routerApi.addPreNavigate(this.preNavigate.bind(this)).addPostNavigate(this.postNavigate.bind(this)).addErrorNavigate(this.errorNavigate.bind(this)).connect())}preNavigate(e){const t=this._createEvent("prenavigate",e,!0);return this.dispatchEvent(t),!t.defaultPrevented}postNavigate(e){this.dispatchEvent(this._createEvent("postnavigate",e));const t=e.routeDefinition.metadata&&e.routeDefinition.metadata.title;t&&(this.currentTitle=t,document.title=t);const n=this.querySelector("span.router-title");n&&(n.innerHTML=this.currentTitle)}errorNavigate(e){return this.dispatchEvent(this._createEvent("errornavigate",e)),!0}handleNavigation(e,t){const n=this._createEvent("handlenavigation",{address:e,replace:t},!0);return this.dispatchEvent(n),!n.defaultPrevented}disconnectedCallback(){this.routerApi&&this.routerApi.disconnect()}_createEvent(e,t,n){return new CustomEvent(e,{detail:t,bubbles:!1,composed:!1,cancelable:n})}}re.renderMode="light",k(re,{publicProps:{router:{config:0},historyDisabled:{config:0}}});const Ot=H(re,{tmpl:Ve,sel:"lwr-router-container",apiVersion:63}),It={styleDecls:[["border","1px black",!1]],key:1},Pt={key:2};function M(r,e,t,n){const{c:o,h:i}=r;return[o("lwr-router-container",Ot,{props:{router:e.router},key:0},[i("div",It,[o("lwr-outlet",Ue,Pt)])])]}var xt=j(M);M.stylesheets=[],M.stylesheetToken="lwc-6k2j0fgc44e",M.legacyStylesheetToken="kingfisher-home_home",L(M);class $t{constructor(e){this.deprecatedConfig={},this.routeHandlerId=0,this.compiledRoutes=[],this.routeObservable=ve(),this.config={basePath:e.basePath||"",i18n:e.i18n||A,caseSensitive:Boolean(e.caseSensitive),routes:e.routes||[],generateUrl:(o,i)=>We(o,this.compiledRoutes,this.config.basePath,this.config.i18n,i),parseUrl:o=>Xe(o,this.compiledRoutes,this.config.basePath,this.config.i18n)};const{DEPRECATED_getRouteFromUrl:t,DEPRECATED_getUrlFromRoute:n}=e;t&&(this.deprecatedConfig.DEPRECATED_getRouteFromUrl=t),n&&(this.deprecatedConfig.DEPRECATED_getUrlFromRoute=n),this.compiledRoutes=lt(this.config)}generateUrl(e,t){const{DEPRECATED_getUrlFromRoute:n}=this.deprecatedConfig;return n?n(e,this.config.generateUrl,t):this.config.generateUrl(e,t)}parseUrl(e){const{DEPRECATED_getRouteFromUrl:t}=this.deprecatedConfig;return t?t(e,this.config.parseUrl):this.config.parseUrl(e)}matchRoute(e,t){const n=typeof e=="string"?e:this.generateUrl(e,t);if(n===null)return null;const o=de(n,this.compiledRoutes,this.config.basePath,this.config.i18n,t),i=o&&fe(o.route.pageReference,o.routeDefinition,this.config.basePath,this.config.i18n,t);return!o||!i?null:{pathMatch:i,route:o.route,routeDefinition:o.routeDefinition.original}}async resolveView(e,t){return new Promise((n,o)=>{const i=this.matchRoute(e,t);return i?i.routeDefinition.handler?.().then(s=>{const l=s.default;if(!l)return o(U(y.INVALID_ROUTE_HANDLER,[i.routeDefinition.id]));const u=new l(n);u&&u.update(i.route)}):o(U(y.NO_ROUTE_MATCH,[JSON.stringify(e)]))})}navigate(e,t){const n=this.matchRoute(e,t);if(!n)throw new Error(U(y.MISSING_ROUTE,[JSON.stringify(e)]));this.pendingRoute={...n},this._mapView(this.pendingRoute)}subscribe(e,t){return this.routeObservable.subscribe({next:e,error:()=>{},complete:()=>{}},Boolean(t))}async _mapView(e){const t=Math.random();this.routeHandlerId=t;const o=(await e.routeDefinition.handler?.())?.default;if(!o)throw new Error(U(y.INVALID_ROUTE_HANDLER,[e.routeDefinition.id]));return this.routeHandler=new o(i=>{this._updateView(t,i)}),this.routeHandler&&this.routeHandler.update(e.route),!0}_updateView(e,t){if(!t||e!==this.routeHandlerId)return;if(!this.pendingRoute)throw new Error("Trying to commit route state without a route");const n=pe(t.viewset);this.routeObservable.next({...this.pendingRoute,...t,viewset:n})}}function Ct(r={}){return new $t(r)}var Tt=[{id:"home",uri:"/",handler:()=>_e("kingfisher/homePageHandler/v/1_0_0"),page:{type:"home"}}];class we extends G{constructor(...e){super(...e);this.router=Ct({routes:Tt})}}k(we,{fields:["router"]});const At=H(we,{tmpl:xt,sel:"kingfisher-home",apiVersion:63});export{At as default};
